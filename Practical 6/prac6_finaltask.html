<!DOCTYPE html>
<html>
<head>
  <title>Smart Job Application Analyzer</title>
</head>
<body>
  <h2>Open Console to See Processed Output</h2>

  <script>
   

    
    function formatName(text) {
      let nameMatch = text.match(/Applicant:\s*([^\n]+)/i);
      if (!nameMatch) return "";
      let raw = nameMatch[1].trim();
      return raw
        .split(/\s+/)
        .map(w => w.charAt(0).toUpperCase() + w.slice(1).toLowerCase())
        .join(" ");
    }

    
    function extractEmails(text) {
      let emails = text.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-z]{2,}/gi) || [];
      emails = emails.map(e => e.toLowerCase());
      return {
        primaryEmail: emails[0] || "",
        altEmails: emails.slice(1)
      };
    }

    
    function extractPhone(text) {
      let phoneMatch = text.match(/(\+\d{1,3}-\d{10})/);
      if (!phoneMatch) return "Invalid phone number";
      let phone = phoneMatch[1];
      
      let numPart = phone.split("-")[1];
      return /^[6-9]\d{9}$/.test(numPart) ? phone : "Invalid phone number";
    }

  
    function extractSkills(text) {
      let skillLine = text.match(/Skills:\s*([^\n]+)/i);
      if (!skillLine) return [];
      return skillLine[1]
        .split(/[,]+/) 
        .map(s => s.trim())
        .filter(s => s.length > 0);
    }

    
    function extractHashtags(text) {
      return text.match(/#[A-Za-z0-9]+/g) || [];
    }

    
    function extractSalary(text) {
      let salaryMatch = text.match(/Salary:\s*([^\n]+)/i);
      if (!salaryMatch) return null;
      let raw = salaryMatch[1];
      
      let num = raw.replace(/[^0-9]/g, "");
      return num ? parseInt(num) : null;
    }

    
    function wordCount(text) {
      let words = text.trim().split(/\s+/);
      return words.filter(w => w.length > 0).length;
    }

    
    function vowelCount(text) {
      let vowels = text.match(/[aeiou]/gi);
      return vowels ? vowels.length : 0;
    }

    
    function analyzeApplication(application) {
      return {
        applicant: formatName(application),
        ...extractEmails(application),
        phone: extractPhone(application),
        skills: extractSkills(application),
        hashtags: extractHashtags(application),
        salary: extractSalary(application),
        wordCount: wordCount(application),
        vowelCount: vowelCount(application)
      };
    }

    
    let application1 = `
Applicant: maRy annE thomPSON
Primary Email: mary.thompson@GMAIL.com
Alternate Email: thompson.mary@work.co.in
Contact: +91-9876543210
Skills: Java , HTML/CSS , ReactJS , Node.js , SQL
Cover: I am applying for the role of Full Stack Developer!!
Expected Salary: $ 75,000 per annum
Tags: #FullStack #Developer #Java #ReactJS #2025Goals
`;

    let application2 = `
Applicant: DaNIEL RoBERTsOn
Primary Email: daniel.rob@company.com
Alternate Email: drobertson@mail.org dan.rob.personal@GMAIL.COM
Contact: +91-1234567890
Skills: Python, Django , Machine Learning,Data Science, AI
Expected Salary: $120,500 per year
Note: Please reply only to dan.rob.personal@gmail.com
Tags: #AI #DataScience #Python #2025Career
`;

    let application3 = `
Applicant: soPhia WILSON
Primary Email: sophia.wilson@MAIL.com
Contact: +44-7896541230
Skills: C, C++ , Java , JavaScript , React , Angular
Cover: Looking forward to joining your team...
Expected Salary: 95000 INR
Extra Emails: s.wilson@backup.co.uk sophia_alt@work.com
Tags: #Developer #Engineer #Cplusplus #React #Angular #NewJob
`;

    let application4 = `
Random Line: Ignore this text completely
Applicant: keVin O'BRIEN
Primary Email: kevin.obrien@MAIL.COM
Alternate Email: obrien.kevin@dev.org
Contact: +91-7891234567
Skills: GoLang , Rust, JavaScript , TypeScript, Node.js

Cover: I am extremely interested in this--role!!!
Expected Salary: USD 88,750
Tags: #GoLang #Rust #JavaScript #TypeScript #Node #CoderLife
`;

    console.log("✅ Application 1:", analyzeApplication(application1));
    console.log("✅ Application 2:", analyzeApplication(application2));
    console.log("✅ Application 3:", analyzeApplication(application3));
    console.log("✅ Application 4:", analyzeApplication(application4));
  </script>
</body>
</html>
